<mat-toolbar color="primary" class="mat-elevation-z4">üéß SoundBar</mat-toolbar>

<div class="container">
  <!-- –¢–µ–∫—É—â–∞—è –ø–µ—Å–Ω—è -->
  <mat-card class="now-playing">
    <ng-container *ngIf="currentSong; else noSong">
      <img mat-card-image [src]="currentSong.cover" alt="cover" />
      <mat-card-content>
        <h3>–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç</h3>
        <p>{{ currentSong.title }}</p>
      </mat-card-content>
    </ng-container>
    <ng-template #noSong>
      <mat-card-content>
        <p>–ù–∏—á–µ–≥–æ –Ω–µ –∏–≥—Ä–∞–µ—Ç</p>
      </mat-card-content>
    </ng-template>
  </mat-card>

  <!-- –û—á–µ—Ä–µ–¥—å -->
  <mat-card class="queue">
    <mat-card-content>
      <h3>–û—á–µ—Ä–µ–¥—å</h3>
      <ng-container *ngIf="queue.length; else emptyQueue">
        <mat-list>
          <mat-list-item *ngFor="let song of queue">
            <img matListAvatar [src]="song.cover" alt="cover" />
            <h4 matLine>{{ song.title }}</h4>
          </mat-list-item>
        </mat-list>
      </ng-container>
      <ng-template #emptyQueue>
        <p>–û—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞</p>
      </ng-template>
    </mat-card-content>
  </mat-card>

  <!-- –ü–æ–∏—Å–∫ -->
  <div class="search-section">
    <mat-form-field appearance="outline" class="search-box">
      <mat-label>–ü–æ–∏—Å–∫ –ø–µ—Å–Ω–∏</mat-label>
      <input matInput [formControl]="searchControl" />
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="onSearchClick()">–ù–∞–π—Ç–∏</button>

    <mat-list *ngIf="filteredSongs.length">
      <mat-list-item *ngFor="let song of filteredSongs">
        <img matListAvatar [src]="song.cover" alt="cover" />
        <div matLine>{{ song.title }}</div>

        <ng-container *ngIf="loadingSongId === song.id; else addBtn">
          <mat-progress-spinner diameter="24" strokeWidth="3" mode="indeterminate"></mat-progress-spinner>
        </ng-container>

        <ng-template #addBtn>
          <button mat-icon-button color="accent" (click)="addToQueue(song.id)">
            <mat-icon>queue_music</mat-icon>
          </button>
        </ng-template>
      </mat-list-item>
    </mat-list>
  </div>
</div>
